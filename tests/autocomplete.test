<?php

class AutocompleteTestCase extends DrupalQUnitTestCase {
  function setUp() {
    parent::setUp();
    $edit = array();
    $edit['name']   = 'qfxb1';
    $edit['mail']   = $edit['name'] . '@example.com';
    $edit['roles']  = array();
    $edit['pass']   = user_password();
    $edit['status'] = 1;

    $account1 = user_save(drupal_anonymous_user(), $edit);

    $edit = array();
    $edit['name']   = 'qgza2';
    $edit['mail']   = $edit['name'] . '@example.com';
    $edit['roles']  = array();
    $edit['pass']   = user_password();
    $edit['status'] = 1;

    $account2 = user_save(drupal_anonymous_user(), $edit);

    $this->testPage('<div class="form-item form-type-textfield form-item-name" role="application">
                     <label for="edit-name">Authored by </label>
                     <input type="text" class="form-text form-autocomplete" maxlength="60" size="60" value="" name="name" id="edit-name" autocomplete="OFF" aria-autocomplete="list"><input type="hidden" class="autocomplete autocomplete-processed" disabled="disabled" value="http://localhost/drupal/?q=user/autocomplete" id="edit-name-autocomplete">
                     <div class="description">Leave blank for <em class="placeholder">Anonymous</em>.</div>
                     <span aria-live="assertive" class="element-invisible" id="edit-name-autocomplete-aria-live"></span></div>');
    $this->testLibrary(array(array('system', 'drupal.autocomplete')));
  }
}
